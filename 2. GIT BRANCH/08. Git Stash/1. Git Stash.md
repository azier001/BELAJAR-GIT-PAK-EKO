# ğŸ“¦ Git Stash - Menyimpan Perubahan Sementara

## ğŸ¤” Apa itu Stash?

**Stash** adalah tempat penyimpanan sementara untuk perubahan yang belum siap di-commit. Bayangkan stash seperti "laci penyimpanan" yang bisa kamu gunakan untuk menyimpan pekerjaan yang sedang kamu kerjakan ketika tiba-tiba harus beralih ke branch lain.

### ğŸ“Œ Kapan Stash Digunakan?

- âœ… Ketika kamu sedang mengerjakan sesuatu di sebuah branch
- âœ… Perubahan belum disimpan ke Repository (masih di Working atau Staging Index)
- âœ… Kamu butuh **segera** pindah ke branch lain untuk mengerjakan hal lain
- âœ… Tapi perubahan yang sedang dikerjakan **belum siap** untuk di-commit

### ğŸ’¡ Keuntungan Menggunakan Stash

Dengan stash, kamu bisa menyimpan semua perubahan di Working atau Staging Index secara sementara. Setelah disimpan ke stash, branch kamu akan menjadi **bersih kembali** (seperti belum ada perubahan), sehingga kamu bisa pindah ke branch lain dengan aman!

---

## ğŸ¯ Latihan Pertama - Memahami Masalah Tanpa Stash

Mari kita coba situasi yang membutuhkan stash:

### ğŸ“ Langkah-langkah:

1. **Di branch utama**
   - Pastikan kamu berada di branch `master` atau `main`

2. **Buat branch baru dengan nama `feature/d`**
   ```bash
   git branch feature/d
   ```

3. **Di branch utama, buat perubahan di `file1.txt`, lalu commit**
   ```bash
   echo "perubahan di branch utama" >> file1.txt
   git add file1.txt
   git commit -m "Update file1 di branch utama"
   ```

4. **Pindah ke branch `feature/d`**
   ```bash
   git checkout feature/d
   ```

5. **Lakukan perubahan `file1.txt`, tambahkan ke Staging Index**
   ```bash
   echo "perubahan di feature/d" >> file1.txt
   git add file1.txt
   ```

6. **Lakukan perubahan `file2.txt`, biarkan di Working**
   ```bash
   echo "perubahan file2" >> file2.txt
   ```

7. **Coba pindah ke branch utama**
   ```bash
   git checkout master
   ```

---

## âŒ Error Ketika Pindah Branch

Ketika kamu mencoba pindah branch dengan perubahan yang belum di-commit, Git akan mencoba membawa perubahan tersebut ke branch tujuan. 

### ğŸš« Kapan Terjadi Error?

Jika terdapat **conflict** (bentrokan) antara perubahan di branch saat ini dengan branch tujuan, Git akan **menolak** perpindahan branch dan menampilkan error seperti ini:

```bash
âœ belajar-git-dasar git:(feature/d) âœ— git switch master
error: Your local changes to the following files would be overwritten by checkout:
        file1.txt
Please commit your changes or stash them before you switch branches.
Aborting
âœ belajar-git-dasar git:(feature/d) âœ—
```

### ğŸ“– Penjelasan Error:

- ğŸ”´ **Error terjadi** karena `file1.txt` di branch `feature/d` berbeda dengan `file1.txt` di branch `master`
- ğŸ”´ Git khawatir perubahanmu akan **hilang** atau **tertimpa**
- ğŸ”´ Git memberikan 2 solusi: **commit** perubahan atau **stash** (simpan sementara)

---

## ğŸ’¾ Menyimpan Perubahan ke Stash

Nah, di sinilah **stash** berguna! Daripada harus commit perubahan yang belum selesai, kamu bisa menyimpannya sementara di stash.

### ğŸ Perintah Stash

#### 1ï¸âƒ£ **Menyimpan ke Stash**

```bash
git stash push -m 'deskripsi perubahan'
```

**Contoh:**
```bash
git stash push -m 'pekerjaan feature/d belum selesai'
```

> ğŸ’¡ **Tips:** Berikan deskripsi yang jelas agar kamu tahu isi stash tersebut!

#### 2ï¸âƒ£ **Melihat Daftar Stash**

```bash
git stash list
```

**Output:**
```bash
stash@{0}: On feature/d: pekerjaan feature/d belum selesai
stash@{1}: On master: pekerjaan lama
```

> ğŸ“Œ Setiap stash memiliki ID seperti `stash@{0}`, `stash@{1}`, dst.

#### 3ï¸âƒ£ **Melihat Detail Perubahan di Stash**

```bash
git stash show stash@{0}
```

**Contoh Output:**
```bash
file1.txt | 1 +
file2.txt | 1 +
2 files changed, 2 insertions(+)
```

> ğŸ” Perintah ini menampilkan file apa saja yang berubah di stash tersebut

---

## ğŸ¯ Latihan Kedua - Menyimpan ke Stash

Sekarang waktunya praktek menggunakan stash!

### ğŸ“ Langkah-langkah:

1. **Simpan semua perubahan ke stash**
   ```bash
   git stash push -m 'simpan pekerjaan feature/d'
   ```
   
   âœ… Setelah perintah ini, branch `feature/d` akan **bersih** (tidak ada perubahan)

2. **Pindah ke branch utama**
   ```bash
   git checkout master
   ```
   
   âœ… Sekarang kamu bisa pindah tanpa error!

---

## ğŸ“¤ Mengambil Perubahan di Stash

Setelah selesai di branch lain, kamu bisa kembali ke branch `feature/d` dan mengambil pekerjaanmu yang tersimpan di stash.

### ğŸ Perintah Mengambil Stash

#### 1ï¸âƒ£ **Mengambil (Apply) Stash**

```bash
git stash apply stash@{0}
```

**Penjelasan:**
- âœ… Mengembalikan perubahan dari stash ke Working/Staging
- âœ… Stash **TIDAK dihapus**, masih ada di daftar stash
- âœ… Berguna jika kamu ingin menggunakan stash yang sama di branch lain

**Contoh:**
```bash
git checkout feature/d
git stash apply stash@{0}
```

> ğŸ’¡ **Tips:** Jika tidak menulis `stash@{0}`, Git akan otomatis mengambil stash terbaru

#### 2ï¸âƒ£ **Menghapus Stash**

```bash
git stash drop stash@{0}
```

**Penjelasan:**
- ğŸ—‘ï¸ Menghapus stash tertentu dari daftar
- âš ï¸ Perubahan di stash akan **hilang permanen**
- ğŸ¯ Gunakan setelah kamu sudah apply dan commit perubahan

#### 3ï¸âƒ£ **Menghapus Semua Stash**

```bash
git stash clear
```

**Penjelasan:**
- ğŸ—‘ï¸ Menghapus **SEMUA** stash yang ada
- âš ï¸ Hati-hati! Semua stash akan hilang permanen
- ğŸ¯ Gunakan untuk membersihkan stash yang sudah tidak dibutuhkan

---

## ğŸ¯ Latihan Ketiga - Mengambil dari Stash

Sekarang kita coba ambil kembali perubahan yang sudah disimpan!

### ğŸ“ Langkah-langkah:

1. **Pindah ke branch `feature/d`**
   ```bash
   git checkout feature/d
   ```

2. **Ambil perubahan di stash**
   ```bash
   git stash apply stash@{0}
   ```
   
   âœ… Perubahan `file1.txt` dan `file2.txt` kembali muncul!

3. **Lalu hapus data stash**
   ```bash
   git stash drop stash@{0}
   ```
   
   âœ… Stash sudah tidak diperlukan lagi

4. **Commit perubahan di branch**
   ```bash
   git add .
   git commit -m "Selesai mengerjakan feature/d"
   ```
   
   âœ… Perubahan sudah tersimpan permanen di branch!

---

## ğŸ“ Ringkasan

### ğŸ“š Apa yang Sudah Kamu Pelajari:

âœ… **Stash** = tempat penyimpanan sementara untuk perubahan yang belum di-commit

âœ… **Kapan menggunakan stash**: Ketika perlu pindah branch tapi pekerjaan belum selesai

âœ… **Menyimpan ke stash**: `git stash push -m 'pesan'`

âœ… **Melihat daftar stash**: `git stash list`

âœ… **Mengambil dari stash**: `git stash apply stash@{0}`

âœ… **Menghapus stash**: `git stash drop stash@{0}` atau `git stash clear`

### ğŸ¯ Workflow Stash (Alur Kerja):

```
1. Sedang kerja di branch A 
   â†“
2. Butuh pindah ke branch B
   â†“
3. git stash push -m 'simpan pekerjaan'
   â†“
4. Pindah ke branch B, selesaikan pekerjaan
   â†“
5. Kembali ke branch A
   â†“
6. git stash apply
   â†“
7. Lanjutkan pekerjaan yang tadi
   â†“
8. git stash drop (hapus stash)
```

---

## ğŸ’ª Latihan Tambahan

Coba praktekkan sendiri:

1. Buat branch baru `feature/e`
2. Ubah beberapa file, tapi **jangan commit**
3. Simpan ke stash dengan pesan yang jelas
4. Pindah ke branch lain
5. Kembali ke `feature/e`
6. Ambil stash dan commit perubahan

**Selamat belajar! ğŸš€**
