# ðŸŒŠ Gitflow Workflow

> **ðŸ“– Strategi Git Branching yang Paling Populer dan Terstruktur**

## ðŸŽ¯ Apa itu Gitflow?

**Gitflow** adalah strategi git branching yang paling tua dan paling banyak diadopsi oleh tim-tim software development di seluruh dunia.

- ðŸ“… **Diciptakan:** Tahun 2010 oleh Vincent Driessen
- ðŸ”— **Referensi:** https://nvie.com/posts/a-successful-git-branching-model/
- â­ **Kelebihan:** Sangat terstruktur dan cocok untuk software dengan versioning jelas

---

## âš ï¸ Catatan Penting dari Pencipta (2020)

> ðŸ’¡ **Vincent Driessen Update (March 2020):**
> 
> Gitflow diciptakan 10 tahun yang lalu, ketika Git masih baru. Model ini menjadi sangat populer, namun **tidak cocok untuk semua jenis project**!

### ðŸŽ¯ Kapan Menggunakan Gitflow?

âœ… **COCOK untuk:**
- Software dengan **multiple versions** yang berjalan bersamaan
- Aplikasi yang perlu **explicit versioning** (contoh: v1.0, v2.0)
- Project yang **tidak continuous delivery**
- Software desktop/mobile yang di-release secara berkala

âŒ **TIDAK COCOK untuk:**
- Web apps dengan **continuous delivery**
- Software yang **tidak perlu rollback**
- Project yang hanya punya **satu versi production**
- Tim kecil yang butuh workflow simple

> ðŸŽ“ **Tip untuk Pemula:** Jika projectmu adalah web app modern yang deploy terus-menerus, pertimbangkan workflow yang lebih simple seperti GitHub Flow atau Trunk Based Development.

---

## ðŸ—ºï¸ Visualisasi Gitflow

```mermaid
%%{init: { 'logLevel': 'debug', 'theme': 'base', 'gitGraph': {'showBranches': true, 'showCommitLabel':true}} }%%
gitGraph
    commit id: "Initial commit"
    branch develop
    checkout develop
    commit id: "Start develop"
    
    branch feature
    checkout feature
    commit id: "Feature for future release"
    commit id: "Major feature for next release"
    checkout develop
    merge feature
    
    branch release/1.0
    checkout release/1.0
    commit id: "Start release branch for 1.0"
    commit id: "Only bugfixes!"
    
    checkout main
    merge release/1.0 tag: "v0.1"
    
    checkout develop
    merge release/1.0
    commit id: "Continue development"
    
    checkout main
    branch hotfix/0.2
    checkout hotfix/0.2
    commit id: "Severe bug fixed for production"
    
    checkout main
    merge hotfix/0.2 tag: "v0.2"
    
    checkout develop
    merge hotfix/0.2 id: "Incorporate bugfix in develop"
    
    checkout release/1.0
    commit id: "Bugfixes from rel. branch"
    
    checkout main
    merge release/1.0 tag: "v1.0"
    
    checkout develop
    merge release/1.0
    commit id: "Next release development"
```

---
![Gitflow Diagram](https://raw.githubusercontent.com/azier001/BELAJAR-GIT-PAK-EKO/refs/heads/main/2.%20GIT%20BRANCH/11.%20Git%20Branching%20Strategy/Git-branching-model.jpg)
---

## ðŸŒ³ Struktur Branch di Gitflow

Gitflow menggunakan **5 jenis branch** dengan peran yang sangat jelas:

### 1ï¸âƒ£ **Main Branches** (Branch Utama - Permanent)

#### ðŸ”´ **Master/Main Branch**
- ðŸŽ¯ **Tujuan:** Menyimpan kode production yang sudah stable
- ðŸ“¦ **Isi:** Hanya kode yang sudah siap release
- ðŸ·ï¸ **Tag:** Setiap commit di master = release baru (v1.0, v1.1, dll)
- âš ï¸ **Aturan:** JANGAN commit langsung ke master!

#### ðŸŸ¢ **Develop Branch**
- ðŸŽ¯ **Tujuan:** Branch utama untuk development
- ðŸ“¦ **Isi:** Kode terbaru untuk release berikutnya
- ðŸ”„ **Sifat:** Integration branch - tempat feature-feature digabung
- ðŸ’¡ **Analogi:** Ini seperti "staging area" sebelum ke production

---

### 2ï¸âƒ£ **Supporting Branches** (Branch Pendukung - Temporary)

#### ðŸŸ£ **Feature Branches**

Branch untuk mengembangkan fitur baru.

**ðŸ“‹ Karakteristik:**
- **Berasal dari:** `develop`
- **Merge ke:** `develop`
- **Penamaan:** `feature/nama-fitur` atau `feature/login-system`
- **Lifetime:** Selama fitur dikembangkan
- **Lokasi:** Biasanya hanya di local repo developer

**ðŸ’¡ Kapan Digunakan:**
- Membuat fitur baru untuk release mendatang
- Eksperimen fitur yang mungkin tidak jadi dipakai
- Development yang memakan waktu lama

---

#### ðŸ”µ **Release Branches**

Branch untuk persiapan release baru.

**ðŸ“‹ Karakteristik:**
- **Berasal dari:** `develop`
- **Merge ke:** `develop` DAN `master`
- **Penamaan:** `release/1.2` atau `release/v2.0`
- **Lifetime:** Selama proses persiapan release
- **Isi:** Hanya bugfix kecil dan metadata (nomor versi, tanggal build)

**ðŸ’¡ Kapan Digunakan:**
- Develop sudah siap untuk release
- Perlu finalisasi sebelum production
- Testing tahap akhir
- Update version number dan dokumentasi

**âš ï¸ Aturan Penting:**
- âŒ DILARANG menambah fitur besar
- âœ… HANYA bugfix minor dan persiapan release

---

#### ðŸ”´ **Hotfix Branches**

Branch untuk fix bug critical di production.

**ðŸ“‹ Karakteristik:**
- **Berasal dari:** `master`
- **Merge ke:** `develop` DAN `master`
- **Penamaan:** `hotfix/1.2.1` atau `hotfix/critical-bug`
- **Lifetime:** Sampai bug selesai di-fix
- **Urgency:** ðŸš¨ Emergency fix!

**ðŸ’¡ Kapan Digunakan:**
- Ada bug critical di production yang harus segera diperbaiki
- Tidak bisa menunggu release cycle berikutnya
- Production sedang bermasalah

**ðŸŽ¯ Keuntungan:**
- Tim lain bisa tetap develop di `develop` branch
- Fix langsung ke production tanpa mengganggu development

---

## ðŸš€ Workflow Gitflow Step-by-Step

### ðŸ“ Scenario 1: Membuat Fitur Baru

**Step 1: Buat Feature Branch**
```bash
# Pindah ke develop
git checkout develop

# Buat branch baru untuk fitur
git checkout -b feature/login-system
```

**Output:**
```
Switched to a new branch 'feature/login-system'
```

**Step 2: Develop Fitur**
```bash
# Coding... coding... coding...

# Commit perubahan
git add .
git commit -m "Add login form"
git commit -m "Add authentication logic"
```

**Step 3: Merge ke Develop**
```bash
# Pindah ke develop
git checkout develop

# Merge dengan --no-ff (penting!)
git merge --no-ff feature/login-system
```

**Output:**
```
Updating ea1b82a..05e9557
(Summary of changes)
```

**Step 4: Hapus Feature Branch**
```bash
git branch -d feature/login-system
```

**Output:**
```
Deleted branch feature/login-system (was 05e9557)
```

> ðŸ’¡ **Kenapa pakai `--no-ff`?**
> - Flag `--no-ff` (no fast-forward) membuat commit merge baru
> - Mudah melacak history fitur di log Git
> - Memudahkan rollback jika fitur bermasalah

---

### ðŸ“¦ Scenario 2: Membuat Release

**Step 1: Buat Release Branch**
```bash
# Misalnya develop sudah siap untuk release 1.2
git checkout -b release/1.2 develop
```

**Output:**
```
Switched to a new branch 'release/1.2'
```

**Step 2: Update Version Number**
```bash
# Update version di package.json, README, dll
./bump-version.sh 1.2

git commit -a -m "Bumped version number to 1.2"
```

**Output:**
```
[release/1.2 74d9424] Bumped version number to 1.2
1 files changed, 1 insertions(+), 1 deletions(-)
```

**Step 3: Testing & Bugfix**
```bash
# Lakukan testing
# Fix bug kalau ada
git commit -m "Fix minor bug in login"
```

**Step 4: Merge ke Master (Production)**
```bash
git checkout master
git merge --no-ff release/1.2
git tag -a v1.2 -m "Release version 1.2"
```

**Output:**
```
Merge made by recursive.
(Summary of changes)
```

**Step 5: Merge Kembali ke Develop**
```bash
git checkout develop
git merge --no-ff release/1.2
```

**Step 6: Hapus Release Branch**
```bash
git branch -d release/1.2
```

**Output:**
```
Deleted branch release/1.2 (was ff452fe)
```

---

### ðŸš¨ Scenario 3: Hotfix Production Bug

**Step 1: Buat Hotfix Branch dari Master**
```bash
# Production version 1.2 ada bug critical!
git checkout -b hotfix/1.2.1 master
```

**Output:**
```
Switched to a new branch 'hotfix/1.2.1'
```

**Step 2: Bump Version**
```bash
./bump-version.sh 1.2.1
git commit -a -m "Bumped version number to 1.2.1"
```

**Output:**
```
[hotfix/1.2.1 41e61bb] Bumped version number to 1.2.1
1 files changed, 1 insertions(+), 1 deletions(-)
```

**Step 3: Fix Bug**
```bash
# Fix the critical bug
git commit -m "Fixed severe production problem"
```

**Output:**
```
[hotfix/1.2.1 abbe5d6] Fixed severe production problem
5 files changed, 32 insertions(+), 17 deletions(-)
```

**Step 4: Merge ke Master**
```bash
git checkout master
git merge --no-ff hotfix/1.2.1
git tag -a v1.2.1 -m "Hotfix version 1.2.1"
```

**Step 5: Merge ke Develop**
```bash
git checkout develop
git merge --no-ff hotfix/1.2.1
```

**Step 6: Hapus Hotfix Branch**
```bash
git branch -d hotfix/1.2.1
```

**Output:**
```
Deleted branch hotfix/1.2.1 (was abbe5d6)
```

---

## âœ… Keuntungan Gitflow

| Keuntungan | Penjelasan |
|------------|------------|
| ðŸŽ¯ **Terstruktur** | Setiap branch punya peran jelas |
| ðŸ‘¥ **Paralel Development** | Tim bisa kerja di fitur berbeda tanpa conflict |
| ðŸ·ï¸ **Clear Versioning** | Mudah tracking version dengan tag |
| ðŸš¨ **Emergency Fix** | Hotfix tidak ganggu development |
| ðŸ“Š **History Jelas** | Mudah lihat kapan fitur masuk dan release dibuat |

---

## âŒ Kekurangan Gitflow

| Kekurangan | Penjelasan |
|------------|------------|
| ðŸ”„ **Kompleks** | Terlalu banyak branch untuk project simple |
| â° **Lambat** | Tidak cocok untuk continuous deployment |
| ðŸ“š **Learning Curve** | Butuh waktu untuk tim baru memahami |
| ðŸ”€ **Banyak Merge** | Merge conflicts lebih sering terjadi |

---

## ðŸŽ“ Best Practices

### âœ¨ DO (Lakukan)

- âœ… Selalu gunakan `--no-ff` saat merge
- âœ… Tag setiap release di master
- âœ… Hapus branch setelah di-merge
- âœ… Commit message yang jelas dan deskriptif
- âœ… Testing sebelum merge ke develop atau master
- âœ… Code review sebelum merge

### âŒ DON'T (Jangan)

- âŒ Commit langsung ke master atau develop
- âŒ Menambah fitur besar di release branch
- âŒ Merge tanpa testing
- âŒ Lupa merge hotfix ke develop
- âŒ Membiarkan feature branch terlalu lama

---

## ðŸ†š Gitflow vs Workflow Lain

| Aspek | Gitflow | GitHub Flow | Trunk Based |
|-------|---------|-------------|-------------|
| **Kompleksitas** | ðŸ”´ Tinggi | ðŸŸ¢ Rendah | ðŸŸ¡ Sedang |
| **Branch Count** | 5+ types | 2 types | 1-2 types |
| **Release Cycle** | Scheduled | Continuous | Continuous |
| **Best For** | Versioned software | Web apps | Large teams |
| **Learning Curve** | ðŸ”´ Steep | ðŸŸ¢ Easy | ðŸŸ¡ Medium |

---

## ðŸ“š Kesimpulan

**Gitflow adalah pilihan tepat jika:**
- ðŸŽ¯ Project memerlukan **multiple versions**
- ðŸ“¦ Release dilakukan secara **scheduled/berkala**
- ðŸ‘¥ Tim **cukup besar** dan terorganisir
- ðŸ·ï¸ Perlu **explicit versioning** (v1.0, v2.0, dll)

**Pertimbangkan workflow lain jika:**
- ðŸš€ Project adalah **web app** dengan continuous deployment
- âš¡ Butuh workflow yang **lebih cepat dan simple**
- ðŸ‘¤ Tim **kecil** atau project **personal**
- ðŸ”„ Deploy dilakukan **berkali-kali sehari**

---

## ðŸ”— Referensi

- **Original Article:** [A Successful Git Branching Model](https://nvie.com/posts/a-successful-git-branching-model/)
- **Author:** Vincent Driessen
- **License:** Creative Commons BY-SA
- **Year:** 2010

---

> ðŸ’¡ **Tips Akhir untuk Pemula:**
> 
> Jangan overwhelmed dengan kompleksitas Gitflow! Mulai dengan memahami **2 main branches** (master & develop) dulu, baru pelajari supporting branches satu per satu. Practice makes perfect! ðŸš€
