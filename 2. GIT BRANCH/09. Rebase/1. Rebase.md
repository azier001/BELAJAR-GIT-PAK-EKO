# ğŸ”„ Git Rebase - Panduan Lengkap untuk Pemula

## ğŸ“š Pengenalan Rebase

Sebelumnya untuk menggabungkan dua buah branch, kita sudah belajar yang namanya **merge**. Sekarang kita akan bahas tentang cara lain menggabungkan dua buah branch, yaitu **rebase**.

> âš ï¸ **Catatan:** Rebase agak sedikit kompleks, jadi kita akan coba bahas secara visual agar lebih mudah dipahami.

---

## ğŸ¯ Diagram Branch Awal

Sebelum kita melakukan rebase, mari kita lihat seperti apa kondisi branch kita saat ini:

```mermaid
gitGraph
    commit id: "1387"
    commit id: "3321"
    branch develop
    checkout develop
    commit id: "j2l7"
    commit id: "9a5l7"
    checkout main
    commit id: "9721"
```

**Penjelasan:**
- ğŸ”µ **Branch main** (merah): Memiliki commit `1387`, `3321`, dan `9721`
- ğŸŸ¢ **Branch develop** (hijau): Bercabang dari commit `3321`, memiliki commit `j2l7` dan `9a5l7`
- ğŸ“ Branch develop dan main berkembang secara paralel

---

## ğŸ”€ Diagram Merge Branch

Ini adalah cara menggabungkan branch menggunakan **merge** yang sudah kita pelajari sebelumnya:

```mermaid
gitGraph
    commit id: "1387"
    commit id: "3321"
    branch develop
    checkout develop
    commit id: "j2l7"
    commit id: "9a5l7"
    checkout main
    commit id: "9721"
    merge develop id: "8732l"
```

**Penjelasan:**
- âœ… Branch develop di-**merge** ke branch main
- ğŸ”— Terbentuk **merge commit** `8732l`
- ğŸ“Š History menunjukkan percabangan (branching) yang jelas
- ğŸ’¡ Dengan merge, kita bisa melihat kapan branch dibuat dan digabungkan

---

## ğŸ¨ Diagram Rebase Branch

Sekarang mari kita lihat hasil menggunakan **rebase**:

```mermaid
gitGraph
    commit id: "1387"
    commit id: "3321"
    commit id: "9721"
    commit id: "j2l7"
    commit id: "9a5l7"
```

**Penjelasan:**
- âœ¨ Commit dari branch develop dipindahkan ke ujung branch main
- ğŸ“ History menjadi **linear** (lurus), tidak ada percabangan
- ğŸ”„ Commit `j2l7` dan `9a5l7` sekarang berada setelah commit `9721`
- ğŸ¯ Hasilnya terlihat seperti semua perubahan dilakukan secara berurutan

---

## ğŸ“ Tugas Praktik 1 - Membuat Branch dan Commit

Mari kita praktik membuat kondisi seperti diagram di atas:

**Langkah-langkah:**
1. ğŸ“‚ Di branch utama, buat branch `feature/rebase`
   ```bash
   git checkout -b feature/rebase
   ```

2. âœï¸ Di branch utama (pindah dulu ke main), ubah `file1.txt` lalu commit
   ```bash
   git checkout main
   echo "perubahan di main" >> file1.txt
   git add file1.txt
   git commit -m "ubah file1 di main"
   ```

3. ğŸ”€ Pindah ke branch `feature/rebase`
   ```bash
   git checkout feature/rebase
   ```

4. ğŸ“ Di branch `feature/rebase`, ubah `file2.txt` lalu commit
   ```bash
   echo "perubahan di feature" >> file2.txt
   git add file2.txt
   git commit -m "ubah file2 di feature"
   ```

5. âœï¸ Di branch `feature/rebase`, ubah `file3.txt` lalu commit
   ```bash
   echo "perubahan lagi di feature" >> file3.txt
   git add file3.txt
   git commit -m "ubah file3 di feature"
   ```

> ğŸ’¡ **Tips:** Setelah langkah ini, branch main dan feature/rebase sudah berkembang secara paralel!

---

## ğŸš€ Melakukan Rebase

### ğŸ“– Pengertian

**Rebase** adalah proses memindahkan atau menggabungkan serangkaian commit ke base commit yang baru.

### âŒ¨ï¸ Perintah Dasar

Untuk melakukan rebase, gunakan perintah:

```bash
git rebase namabranch
```

### ğŸ¯ Contoh Penggunaan

Jika sekarang kita ada di branch `feature/rebase`, lalu menggunakan perintah:

```bash
git rebase master
```

**Artinya:**
- ğŸ”„ Kita melakukan rebase semua commit di **master** ke branch **develop**
- ğŸ“ Base dari branch develop akan dipindahkan ke ujung branch master
- âœ¨ Commit di develop akan diterapkan ulang di atas commit terakhir master

### ğŸ¬ Proses yang Terjadi

1. ğŸ“¦ Git menyimpan sementara semua commit di branch develop
2. ğŸ”„ Git memindahkan pointer develop ke ujung branch master
3. âœï¸ Git menerapkan kembali commit-commit yang disimpan tadi satu per satu
4. ğŸ†• Setiap commit mendapatkan ID baru

---

## ğŸ“ Tugas Praktik 2 - Melakukan Rebase

Sekarang saatnya praktik rebase!

**Langkah-langkah:**

1. ğŸ”€ Pindah ke branch `feature/rebase`
   ```bash
   git checkout feature/rebase
   ```

2. ğŸš€ Lakukan rebase dengan branch master
   ```bash
   git rebase master
   ```

3. âœ… Jika tidak ada konflik, rebase akan berhasil
4. âš ï¸ Jika ada konflik, selesaikan konflik lalu lanjutkan dengan:
   ```bash
   git add .
   git rebase --continue
   ```

> ğŸ’¡ **Catatan Penting:** Setelah rebase, commit history di branch feature/rebase akan berubah!

---

## ğŸ”— Merge Branch Setelah Rebase

### â“ Mengapa Perlu Merge Lagi?

Setelah melakukan rebase, bukan berarti branch yang di-rebase sekarang posisinya ada di branch yang melakukan rebase. Posisinya tetap ada di commit terakhir di branch tersebut.

**Seperti yang terlihat pada gambar Diagram Rebase Branch:**
- ğŸ“ Branch develop masih menunjuk ke commit terakhirnya
- ğŸ¯ Branch main belum "tahu" tentang commit dari develop

### ğŸ¯ Solusinya

Agar posisinya sama dengan branch yang melakukan rebase, kita bisa menggunakan perintah **merge**:

```bash
git checkout main
git merge feature/rebase
```

**Yang Terjadi:**
- âš¡ Ini akan menjadi **fast-forward merge**
- ğŸ“ Tidak ada merge commit tambahan
- âœ¨ Branch main akan menunjuk ke commit terakhir

---

## ğŸ¨ Diagram Setelah Merge

Setelah melakukan merge, hasilnya akan seperti ini:

```mermaid
gitGraph
    commit id: "1387"
    commit id: "3321"
    commit id: "9721"
    commit id: "j2l7"
    commit id: "9a5l7"
```

**Penjelasan:**
- âœ… Semua commit sekarang dalam satu garis lurus
- ğŸ¯ Branch main dan develop menunjuk ke commit yang sama
- ğŸ“ History terlihat sangat **bersih dan linear**
- ğŸš€ Tidak ada merge commit yang terlihat

---

## âš–ï¸ Merge vs Rebase

### ğŸŸ¢ Kelebihan Rebase

- âœ¨ Timeline terlihat sangat **rapih dan bersih**
- ğŸ“ History menjadi **linear** (garis lurus)
- ğŸ¯ Mudah dibaca dan dipahami
- ğŸš€ Tidak ada merge commit yang "berantakan"

### ğŸ”´ Kekurangan Rebase

- âš ï¸ **Commit ID berubah!** Rebase menulis ulang semua commit
- ğŸ”— Semua referensi ke commit ID lama akan **rusak dan hilang**
- ğŸ“š History asli yang menunjukkan kapan branch dibuat menjadi hilang
- ğŸš« **Berbahaya** jika dilakukan di branch yang sudah dipush dan digunakan orang lain

### ğŸŸ¢ Kelebihan Merge

- ğŸ“š History **tetap utuh**, menunjukkan kapan branch dibuat
- ğŸ”— Commit ID **tidak berubah**
- ğŸ‘¥ **Aman** untuk branch yang sudah dipush
- ğŸ“Š Mudah tracking siapa yang merge dan kapan

### ğŸ”´ Kekurangan Merge

- ğŸ“Š History bisa terlihat **berantakan** dengan banyak merge commit
- ğŸ”€ Percabangan bisa membingungkan untuk project besar
- ğŸ“ˆ Graph commit terlihat lebih kompleks

---

## ğŸ¯ Kapan Menggunakan Rebase?

### âœ… Gunakan Rebase Ketika:

- ğŸ”§ Bekerja di **branch lokal** yang belum di-push
- ğŸ§¹ Ingin **membersihkan** history sebelum merge ke branch utama
- ğŸ“ Ingin history yang **linear dan mudah dibaca**
- ğŸ‘¤ Bekerja **sendirian** di branch tersebut

### âŒ Jangan Gunakan Rebase Ketika:

- ğŸ‘¥ Branch sudah **dipush** dan digunakan orang lain
- ğŸ“š Ingin **mempertahankan** history asli
- ğŸ”„ Branch adalah branch **publik** (seperti main, develop)
- âš ï¸ Tidak yakin apa yang sedang dilakukan

---

## ğŸ’¡ Tips dan Best Practices

1. **ğŸ”’ Golden Rule:** Jangan pernah rebase branch publik yang sudah digunakan orang lain!

2. **ğŸ§ª Praktik di Branch Lokal:** Selalu coba rebase di branch lokal dulu sebelum push

3. **ğŸ’¾ Backup Branch:** Buat backup branch sebelum rebase:
   ```bash
   git branch backup-feature
   ```

4. **ğŸ“– Pelajari Konflik:** Pahami cara menyelesaikan konflik saat rebase

5. **ğŸ”„ Rebase Interaktif:** Gunakan `git rebase -i` untuk mengedit commit history:
   ```bash
   git rebase -i HEAD~3
   ```

6. **âš¡ Kombinasi:** Gunakan rebase untuk branch pribadi, merge untuk integrasi ke branch utama

---

## ğŸ“ Kesimpulan

- ğŸ”„ **Rebase** adalah cara alternatif untuk menggabungkan branch
- ğŸ“ Menghasilkan history yang **linear dan bersih**
- âš ï¸ **Mengubah commit ID**, jadi hati-hati penggunaannya
- ğŸ¯ Tidak ada yang lebih baik antara merge dan rebase, **semua tergantung kebutuhan**
- ğŸ’¡ Gunakan rebase untuk membersihkan history lokal, merge untuk kolaborasi

> ğŸŒŸ **Ingat:** Practice makes perfect! Terus berlatih dan jangan takut mencoba!

---

## ğŸ“š Referensi Lanjutan

Untuk memperdalam pemahaman, pelajari juga:
- ğŸ”€ Interactive Rebase (`git rebase -i`)
- ğŸ”™ Undo Rebase (`git reflog`)
- ğŸŒ¿ Git Workflow best practices
- ğŸ‘¥ Team collaboration strategies

**Selamat belajar! ğŸš€**
