# ğŸ”„ Membatalkan Perubahan di Git

Panduan lengkap untuk pemula dalam membatalkan perubahan di Git. Mari kita pelajari satu per satu dengan mudah! ğŸš€

---

## ğŸ“ Membatalkan Penambahan File

### ğŸ’¡ Apa yang Terjadi?

Ketika kita menambahkan file baru di **Working Directory** (folder kerja kita), kadang kita ingin membatalkannya sebelum di-commit.

### âœ… Cara Membatalkannya

Ada dua cara sederhana:

1. **Cara Manual**: Hapus file tersebut secara langsung
2. **Cara Otomatis**: Gunakan perintah Git

```bash
git clean -f
```

> **ğŸ“Œ Catatan**: Perintah `git clean -f` akan menghapus semua file yang belum di-tracking oleh Git.

---

## ğŸ”§ Membatalkan Perubahan File

### ğŸ’¡ Apa yang Terjadi?

Kita sudah mengubah isi file, tapi ternyata perubahannya salah atau tidak diperlukan. Kita ingin mengembalikan file ke kondisi terakhir yang sudah di-commit.

### âœ… Cara Membatalkannya

Gunakan perintah `git restore`:

```bash
git restore namafile
```

### ğŸ“‚ Contoh Kasus

Mari kita lihat contoh nyata ketika file `file1.txt` diubah:

```bash
âœ belajar-git-dasar git:(master) âœ— git status
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   file1.txt

no changes added to commit (use "git add" and/or "git commit -a")
```

Kita membatalkan perubahannya:

```bash
âœ belajar-git-dasar git:(master) âœ— git restore file1.txt
âœ belajar-git-dasar git:(master) git status
On branch master
nothing to commit, working tree clean
âœ belajar-git-dasar git:(master)
```

> **âœ¨ Hasil**: File `file1.txt` kembali seperti kondisi terakhir di commit! Perubahan yang kita buat tadi hilang.

---

## ğŸ—‘ï¸ Membatalkan Penghapusan File

### ğŸ’¡ Apa yang Terjadi?

Kita tidak sengaja menghapus file penting, dan ingin mengembalikannya.

### âœ… Cara Membatalkannya

Kabar baiknya, **penghapusan file = perubahan file**! Jadi kita gunakan perintah yang sama:

```bash
git restore namafile
```

### ğŸ“‚ Contoh Kasus

File `file1.txt` terhapus:

```bash
âœ belajar-git-dasar git:(master) git status
On branch master
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        deleted:    file1.txt

no changes added to commit (use "git add" and/or "git commit -a")
```

Kita kembalikan file yang terhapus:

```bash
âœ belajar-git-dasar git:(master) âœ— git restore file1.txt
âœ belajar-git-dasar git:(master) git status
On branch master
nothing to commit, working tree clean
âœ belajar-git-dasar git:(master)
```

> **âœ¨ Hasil**: File `file1.txt` kembali lagi! ğŸ‰

---

## ğŸ“¦ Membatalkan dari Staging Index

### ğŸ’¡ Apa yang Terjadi?

Kita sudah menjalankan `git add` dan file sudah masuk ke **Staging Index** (area persiapan commit). Tapi ternyata kita belum ingin meng-commit file tersebut.

### âš ï¸ Penting Dipahami!

- Perintah `git restore` **hanya bekerja** di **Working Directory**
- Jika file sudah masuk **Staging Index**, kita **tidak bisa** langsung membatalkannya
- Kita harus **mengembalikan** file dari **Staging Index** ke **Working Directory** dulu

### âœ… Cara Membatalkannya

Gunakan parameter `--staged`:

```bash
git restore --staged namafile
```

### ğŸ“‚ Contoh Kasus - Ketika Gagal

File `file1.txt` sudah di-delete dan masuk Staging Index:

```bash
âœ belajar-git-dasar git:(master) âœ— git status
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        deleted:    file1.txt

âœ belajar-git-dasar git:(master) âœ— git restore file1.txt
error: pathspec 'file1.txt' did not match any file(s) known to git
âœ belajar-git-dasar git:(master) âœ—
```

> **âŒ Error**: Perintah `git restore` tidak bisa digunakan langsung karena file masih di Staging Index!

### ğŸ“‚ Contoh Kasus - Cara yang Benar

**Langkah 1**: Keluarkan dari Staging Index ke Working Directory

```bash
âœ belajar-git-dasar git:(master) âœ— git status
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        deleted:    file1.txt

âœ belajar-git-dasar git:(master) âœ— git restore --staged file1.txt
âœ belajar-git-dasar git:(master) âœ— git status
On branch master
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        deleted:    file1.txt

no changes added to commit (use "git add" and/or "git commit -a")
```

> **âœ¨ Hasil Langkah 1**: File berhasil keluar dari Staging Index dan kembali ke Working Directory!

**Langkah 2**: Sekarang baru bisa gunakan `git restore` untuk membatalkan perubahan

```bash
âœ belajar-git-dasar git:(master) âœ— git restore file1.txt
```

> **ğŸ¯ Kesimpulan**: Untuk membatalkan file yang sudah di `git add`, kita perlu **2 langkah**:
> 1. `git restore --staged namafile` - keluarkan dari Staging Index
> 2. `git restore namafile` - batalkan perubahannya

---

## ğŸš« Membatalkan Yang Sudah di Commit

### ğŸ’¡ Apa yang Terjadi?

Perubahan sudah terlanjur di-commit dengan `git commit`. Bisakah dibatalkan?

### âš ï¸ Fakta Penting

- **Tidak ada cara** untuk langsung membatalkan commit yang sudah terjadi
- Git **tidak menghapus** history commit begitu saja
- Tapi jangan khawatir! Ada **2 solusi** yang bisa digunakan:

### ğŸ”„ Dua Cara Mengatasi Commit yang Salah

1. **ğŸ”™ Rollback Commit** - Kembali ke commit sebelumnya (menghapus commit)
2. **â†©ï¸ Revert Commit** - Membuat commit baru yang membatalkan commit lama (lebih aman)

> **ğŸ“š Catatan**: Kedua cara ini akan dijelaskan secara detail di materi terpisah karena cukup kompleks untuk pemula.

---

## ğŸ“Š Diagram Alur Pembatalan

Untuk memudahkan pemahaman, berikut alur pembatalan di Git:

```
Working Directory â†’ Staging Index â†’ Repository (Commit)
     â†“                   â†“                â†“
git restore        git restore      Rollback/Revert
                     --staged
```

> **ğŸ’¡ Tips**: Semakin jauh posisi file dalam alur Git, semakin kompleks cara membatalkannya!

---

## ğŸ¯ Kesimpulan

Berikut rangkuman perintah pembatalan di Git:

| ğŸ“ Posisi File | ğŸ”§ Perintah | ğŸ“ Fungsi |
|---------------|-------------|-----------|
| File baru belum di-track | `git clean -f` | Hapus file baru |
| Working Directory (diubah) | `git restore namafile` | Batalkan perubahan |
| Working Directory (dihapus) | `git restore namafile` | Kembalikan file |
| Staging Index | `git restore --staged namafile` | Keluarkan dari staging |
| Sudah di-commit | Rollback/Revert | Lihat materi terpisah |

---

## ğŸ’ª Tips untuk Pemula

1. **ğŸ¯ Mulai dari yang sederhana**: Pahami `git restore` dulu sebelum belajar Rollback/Revert
2. **ğŸ” Selalu cek status**: Gunakan `git status` untuk tahu posisi file kamu
3. **âš ï¸ Hati-hati dengan `git clean -f`**: Perintah ini akan menghapus file permanen!
4. **ğŸ“ Latihan**: Coba semua contoh di atas di project latihan, bukan project penting
5. **ğŸ¤” Berpikir sebelum commit**: Pastikan perubahan sudah benar sebelum di-commit

---

**ğŸ“ Selamat belajar! Dengan memahami cara membatalkan perubahan, kamu akan lebih percaya diri menggunakan Git!** âœ¨
